---
title: 3D Orbital Map
---

<% content_for :head do %>
  <link rel="stylesheet" type="text/css" href="../assets/stylesheets/3dmap.css" />
<% end %>

<div id="orbital-map-container" class="readout-display">
  <div id="orbital-map"></div>
</div>

<!-- ---------------- Custom Shader Code ------------------------ -->
<script id="vertexShader" type="x-shader/x-vertex">
uniform vec3 viewVector;
uniform float c;
uniform float p;
varying float intensity;
void main() 
{
    vec3 vNormal = normalize( normalMatrix * normal );
  vec3 vNormel = normalize( normalMatrix * viewVector );
  intensity = pow( c - dot(vNormal, vNormel), p );
  
    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}
</script>

<!-- fragment shader a.k.a. pixel shader -->
<script id="fragmentShader" type="x-shader/x-vertex"> 
uniform vec3 glowColor;
varying float intensity;
void main() 
{
  vec3 glow = glowColor * intensity;
    gl_FragColor = vec4( glow, 1.0 );
}
</script>
<!-- ----------------------------------------------------------- -->


<% content_for :dom_loaded do %>
  window.mapDatalink = new Telemachus(settings.getHost(), settings.getPort())
  window.mapDatalink.rate = 2000
  var orbitalPositionData = new OrbitalPositionData(window.mapDatalink)
  window.positionDataFormatter = new PositionDataFormatter(orbitalPositionData, window.mapDatalink)

  window.OrbitalMap = new OrbitalMap(positionDataFormatter, window.mapDatalink, "orbital-map")

<% end %>